<script>
    // Language support with department translations
    const translations = {
        en: {
            title: "Way Finder Navigation System",
            subtitle: "Find your way easily",
            searchPlaceholder: "ðŸ” Type department name (e.g., OPD, ICU, Lab)...",
            searchHint: "Type to filter departments",
            noResults: "No departments found. Try different keywords.",
            hitCounterTitle: "Wayfinder Usage Statistics",
            hitCounterLabel: "People helped find their way",
            departments: {
                pharmacy: { name: "Pharmacy", location: "Ground Floor", description: "Get your medicines here" },
                radiology: { name: "Radiology", location: "Basement Floor", description: "Xray & Scanning" },
                lab: { name: "Laboratory", location: "Ground Floor", description: "Blood tests & reports" },
                cardiology: { name: "Cardiology", location: "Basement Floor", description: "Heart care & OPD" },
                ortho: { name: "Orthopedics", location: "Ground Floor", description: "Bone & joint care" },
                ophthalmology: { name: "Ophthalmology", location: "Ground Floor", description: "Eye care OPD" },
                cafeteria: { name: "Cafeteria (West End)", location: "Ground Floor", description: "Food & refreshments" },
                pediatrics: { name: "Pediatrics OPD", location: "First Floor", description: "Child care & consultation" }
            }
        },
        hi: {
            title: "à¤µà¥‡ à¤«à¤¾à¤‡à¤‚à¤¡à¤° à¤¨à¥‡à¤µà¤¿à¤—à¥‡à¤¶à¤¨ à¤¸à¤¿à¤¸à¥à¤Ÿà¤®",
            subtitle: "à¤†à¤¸à¤¾à¤¨à¥€ à¤¸à¥‡ à¤…à¤ªà¤¨à¤¾ à¤°à¤¾à¤¸à¥à¤¤à¤¾ à¤–à¥‹à¤œà¥‡à¤‚",
            searchPlaceholder: "ðŸ” à¤µà¤¿à¤­à¤¾à¤— à¤•à¤¾ à¤¨à¤¾à¤® à¤Ÿà¤¾à¤‡à¤ª à¤•à¤°à¥‡à¤‚ (à¤œà¥ˆà¤¸à¥‡, OPD, ICU, à¤²à¥ˆà¤¬)...",
            searchHint: "à¤µà¤¿à¤­à¤¾à¤—à¥‹à¤‚ à¤•à¥‹ à¤«à¤¿à¤²à¥à¤Ÿà¤° à¤•à¤°à¤¨à¥‡ à¤•à¥‡ à¤²à¤¿à¤ à¤Ÿà¤¾à¤‡à¤ª à¤•à¤°à¥‡à¤‚",
            noResults: "à¤•à¥‹à¤ˆ à¤µà¤¿à¤­à¤¾à¤— à¤¨à¤¹à¥€à¤‚ à¤®à¤¿à¤²à¤¾à¥¤ à¤µà¤¿à¤­à¤¿à¤¨à¥à¤¨ à¤•à¥€à¤µà¤°à¥à¤¡ à¤†à¤œà¤¼à¤®à¤¾à¤à¤‚à¥¤",
            hitCounterTitle: "à¤µà¥‡à¤«à¤¾à¤‡à¤‚à¤¡à¤° à¤‰à¤ªà¤¯à¥‹à¤— à¤†à¤‚à¤•à¤¡à¤¼à¥‡",
            hitCounterLabel: "à¤²à¥‹à¤—à¥‹à¤‚ à¤•à¥‹ à¤‰à¤¨à¤•à¤¾ à¤°à¤¾à¤¸à¥à¤¤à¤¾ à¤–à¥‹à¤œà¤¨à¥‡ à¤®à¥‡à¤‚ à¤®à¤¦à¤¦ à¤®à¤¿à¤²à¥€",
            departments: {
                pharmacy: { name: "à¤«à¤¾à¤°à¥à¤®à¥‡à¤¸à¥€", location: "à¤—à¥à¤°à¤¾à¤‰à¤‚à¤¡ à¤«à¥à¤²à¥‹à¤°", description: "à¤¯à¤¹à¤¾à¤‚ à¤¸à¥‡ à¤¦à¤µà¤¾à¤à¤‚ à¤ªà¥à¤°à¤¾à¤ªà¥à¤¤ à¤•à¤°à¥‡à¤‚" },
                radiology: { name: "à¤°à¥‡à¤¡à¤¿à¤¯à¥‹à¤²à¥‰à¤œà¥€", location: "à¤¬à¥‡à¤¸à¤®à¥‡à¤‚à¤Ÿ à¤«à¥à¤²à¥‹à¤°", description: "à¤à¤•à¥à¤¸à¤°à¥‡ à¤”à¤° à¤¸à¥à¤•à¥ˆà¤¨à¤¿à¤‚à¤—" },
                lab: { name: "à¤ªà¥à¤°à¤¯à¥‹à¤—à¤¶à¤¾à¤²à¤¾", location: "à¤—à¥à¤°à¤¾à¤‰à¤‚à¤¡ à¤«à¥à¤²à¥‹à¤°", description: "à¤°à¤•à¥à¤¤ à¤ªà¤°à¥€à¤•à¥à¤·à¤£ à¤”à¤° à¤°à¤¿à¤ªà¥‹à¤°à¥à¤Ÿ" },
                cardiology: { name: "à¤•à¤¾à¤°à¥à¤¡à¤¿à¤¯à¥‹à¤²à¥‰à¤œà¥€", location: "à¤¬à¥‡à¤¸à¤®à¥‡à¤‚à¤Ÿ à¤«à¥à¤²à¥‹à¤°", description: "à¤¹à¥ƒà¤¦à¤¯ à¤¦à¥‡à¤–à¤­à¤¾à¤² à¤”à¤° à¤“à¤ªà¥€à¤¡à¥€" },
                ortho: { name: "à¤‘à¤°à¥à¤¥à¥‹à¤ªà¥‡à¤¡à¤¿à¤•à¥à¤¸", location: "à¤—à¥à¤°à¤¾à¤‰à¤‚à¤¡ à¤«à¥à¤²à¥‹à¤°", description: "à¤¹à¤¡à¥à¤¡à¥€ à¤”à¤° à¤œà¥‹à¤¡à¤¼ à¤¦à¥‡à¤–à¤­à¤¾à¤²" },
                ophthalmology: { name: "à¤¨à¥‡à¤¤à¥à¤° à¤µà¤¿à¤œà¥à¤žà¤¾à¤¨", location: "à¤—à¥à¤°à¤¾à¤‰à¤‚à¤¡ à¤«à¥à¤²à¥‹à¤°", description: "à¤†à¤‚à¤–à¥‹à¤‚ à¤•à¥€ à¤¦à¥‡à¤–à¤­à¤¾à¤² à¤“à¤ªà¥€à¤¡à¥€" },
                cafeteria: { name: "à¤•à¥ˆà¤«à¥‡à¤Ÿà¥‡à¤°à¤¿à¤¯à¤¾ (à¤µà¥‡à¤¸à¥à¤Ÿ à¤à¤‚à¤¡)", location: "à¤—à¥à¤°à¤¾à¤‰à¤‚à¤¡ à¤«à¥à¤²à¥‹à¤°", description: "à¤­à¥‹à¤œà¤¨ à¤”à¤° à¤¤à¤¾à¤œà¤¼à¤—à¥€" },
                pediatrics: { name: "à¤ªà¥€à¤¡à¤¿à¤¯à¤¾à¤Ÿà¥à¤°à¤¿à¤•à¥à¤¸ à¤“à¤ªà¥€à¤¡à¥€", location: "à¤ªà¤¹à¤²à¥€ à¤®à¤‚à¤œà¤¿à¤²", description: "à¤¬à¤šà¥à¤šà¥‹à¤‚ à¤•à¥€ à¤¦à¥‡à¤–à¤­à¤¾à¤² à¤”à¤° à¤ªà¤°à¤¾à¤®à¤°à¥à¤¶" }
            }
        },
        ml: {
            title: "à´µàµ‡ à´«àµˆàµ»à´¡àµ¼ à´¨à´¾à´µà´¿à´—àµ‡à´·àµ» à´¸à´¿à´¸àµà´±àµà´±à´‚",
            subtitle: "à´Žà´³àµà´ªàµà´ªà´¤àµà´¤à´¿àµ½ à´¨à´¿à´™àµà´™à´³àµà´Ÿàµ† à´µà´´à´¿ à´•à´£àµà´Ÿàµ†à´¤àµà´¤àµà´•",
            searchPlaceholder: "ðŸ” à´µà´•àµà´ªàµà´ªàµ à´ªàµ‡à´°àµ à´Ÿàµˆà´ªàµà´ªàµ à´šàµ†à´¯àµà´¯àµà´• (à´‰à´¦à´¾: OPD, ICU, à´²à´¾à´¬àµ)...",
            searchHint: "à´µà´•àµà´ªàµà´ªàµà´•àµ¾ à´«à´¿àµ½à´Ÿàµà´Ÿàµ¼ à´šàµ†à´¯àµà´¯à´¾àµ» à´Ÿàµˆà´ªàµà´ªàµ à´šàµ†à´¯àµà´¯àµà´•",
            noResults: "à´µà´•àµà´ªàµà´ªàµà´•àµ¾ à´•à´£àµà´Ÿàµ†à´¤àµà´¤à´¿à´¯à´¿à´²àµà´². à´µàµà´¯à´¤àµà´¯à´¸àµà´¤ à´•àµ€à´µàµ‡à´¡àµà´•àµ¾ à´ªà´°àµ€à´•àµà´·à´¿à´•àµà´•àµà´•.",
            hitCounterTitle: "à´µàµ‡à´«àµˆàµ»à´¡àµ¼ à´‰à´ªà´¯àµ‹à´— à´¸àµà´¥à´¿à´¤à´¿à´µà´¿à´µà´°à´•àµà´•à´£à´•àµà´•àµà´•àµ¾",
            hitCounterLabel: "à´†à´³àµà´•àµ¾à´•àµà´•àµ à´…à´µà´°àµà´Ÿàµ† à´µà´´à´¿ à´•à´£àµà´Ÿàµ†à´¤àµà´¤à´¾àµ» à´¸à´¹à´¾à´¯à´¿à´•àµà´•à´ªàµà´ªàµ†à´Ÿàµà´Ÿàµ",
            departments: {
                pharmacy: { name: "à´«à´¾àµ¼à´®à´¸à´¿", location: "à´—àµà´°àµ—à´£àµà´Ÿàµ à´«àµà´²àµ‹àµ¼", description: "à´¨à´¿à´™àµà´™à´³àµà´Ÿàµ† à´®à´°àµà´¨àµà´¨àµà´•àµ¾ à´‡à´µà´¿à´Ÿàµ† à´¨à´¿à´¨àµà´¨àµ à´²à´­à´¿à´•àµà´•àµà´‚" },
                radiology: { name: "à´±àµ‡à´¡à´¿à´¯àµ‹à´³à´œà´¿", location: "à´¬àµ‡à´¸àµà´®àµ†à´¨àµà´±àµ à´«àµà´²àµ‹àµ¼", description: "à´Žà´•àµà´¸àµ-à´±àµ‡à´¯àµà´‚ à´¸àµà´•à´¾à´¨à´¿à´™àµà´™àµà´‚" },
                lab: { name: "à´²à´¬àµ‹à´±à´Ÿàµà´Ÿà´±à´¿", location: "à´—àµà´°àµ—à´£àµà´Ÿàµ à´«àµà´²àµ‹àµ¼", description: "à´°à´•àµà´¤ à´ªà´°à´¿à´¶àµ‹à´§à´¨à´•à´³àµà´‚ à´±à´¿à´ªàµà´ªàµ‹àµ¼à´Ÿàµà´Ÿàµà´•à´³àµà´‚" },
                cardiology: { name: "à´•à´¾àµ¼à´¡à´¿à´¯àµ‹à´³à´œà´¿", location: "à´¬àµ‡à´¸àµà´®àµ†à´¨àµà´±àµ à´«àµà´²àµ‹àµ¼", description: "à´¹àµƒà´¦à´¯ à´ªà´°à´¿à´šà´°à´£à´‚ à´’à´ªàµà´ªà´‚ à´“à´ªà´¿à´¡à´¿" },
                ortho: { name: "à´“àµ¼à´¤àµà´¤àµ‹à´ªàµ€à´¡à´¿à´•àµà´¸àµ", location: "à´—àµà´°àµ—à´£àµà´Ÿàµ à´«àµà´²àµ‹àµ¼", description: "à´…à´¸àµà´¥à´¿, à´¸à´¨àµà´§à´¿ à´ªà´°à´¿à´šà´°à´£à´‚" },
                ophthalmology: { name: "à´“à´«àµà´¤à´¾àµ½à´®àµ‹à´³à´œà´¿", location: "à´—àµà´°àµ—à´£àµà´Ÿàµ à´«àµà´²àµ‹àµ¼", description: "à´•à´£àµà´£àµ à´ªà´°à´¿à´šà´°à´£à´‚ à´“à´ªà´¿à´¡à´¿" },
                cafeteria: { name: "à´•à´«àµ‡à´±àµà´±àµ€à´°à´¿à´¯ (à´µàµ†à´¸àµà´±àµà´±àµ à´Žàµ»à´¡àµ)", location: "à´—àµà´°àµ—à´£àµà´Ÿàµ à´«àµà´²àµ‹àµ¼", description: "à´­à´•àµà´·à´£à´µàµà´‚ à´‰à´¨àµà´®àµ‡à´·à´µàµà´‚" },
                pediatrics: { name: "à´ªàµ€à´¡à´¿à´¯à´¾à´Ÿàµà´°à´¿à´•àµà´¸àµ à´“à´ªà´¿à´¡à´¿", location: "à´«à´¸àµà´±àµà´±àµ à´«àµà´²àµ‹àµ¼", description: "à´•àµà´Ÿàµà´Ÿà´¿à´•à´³àµà´Ÿàµ† à´ªà´°à´¿à´šà´°à´£à´µàµà´‚ à´•àµºà´¸àµ¾à´Ÿàµà´Ÿàµ‡à´·à´¨àµà´‚" }
            }
        },
        ar: {
            title: "Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ù„Ø§Ø­Ø© Ù„Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ø·Ø±ÙŠÙ‚",
            subtitle: "Ø§Ø¨Ø­Ø« Ø¹Ù† Ø·Ø±ÙŠÙ‚Ùƒ Ø¨Ø³Ù‡ÙˆÙ„Ø©",
            searchPlaceholder: "ðŸ” Ø§ÙƒØªØ¨ Ø§Ø³Ù… Ø§Ù„Ù‚Ø³Ù… (Ù…Ø«Ù„: OPDØŒ ICUØŒ Ø§Ù„Ù…Ø®ØªØ¨Ø±)...",
            searchHint: "Ø§ÙƒØªØ¨ Ù„ØªØµÙÙŠØ© Ø§Ù„Ø£Ù‚Ø³Ø§Ù…",
            noResults: "Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø£Ù‚Ø³Ø§Ù…. Ø¬Ø±Ø¨ ÙƒÙ„Ù…Ø§Øª Ø±Ø¦ÙŠØ³ÙŠØ© Ù…Ø®ØªÙ„ÙØ©.",
            hitCounterTitle: "Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ø³ØªØ®Ø¯Ø§Ù… Wayfinder",
            hitCounterLabel: "ØªÙ… Ù…Ø³Ø§Ø¹Ø¯Ø© Ø§Ù„Ø£Ø´Ø®Ø§Øµ ÙÙŠ Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø·Ø±ÙŠÙ‚Ù‡Ù…",
            departments: {
                pharmacy: { name: "Ø§Ù„ØµÙŠØ¯Ù„ÙŠØ©", location: "Ø§Ù„Ø·Ø§Ø¨Ù‚ Ø§Ù„Ø£Ø±Ø¶ÙŠ", description: "Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø£Ø¯ÙˆÙŠØªÙƒ Ù‡Ù†Ø§" },
                radiology: { name: "Ø§Ù„Ø£Ø´Ø¹Ø©", location: "Ø§Ù„Ø·Ø§Ø¨Ù‚ Ø§Ù„Ø³ÙÙ„ÙŠ", description: "Ø§Ù„Ø£Ø´Ø¹Ø© Ø§Ù„Ø³ÙŠÙ†ÙŠØ© ÙˆØ§Ù„Ù…Ø³Ø­" },
                lab: { name: "Ø§Ù„Ù…Ø®ØªØ¨Ø±", location: "Ø§Ù„Ø·Ø§Ø¨Ù‚ Ø§Ù„Ø£Ø±Ø¶ÙŠ", description: "Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„Ø¯Ù… ÙˆØ§Ù„ØªÙ‚Ø§Ø±ÙŠØ±" },
                cardiology: { name: "Ø·Ø¨ Ø§Ù„Ù‚Ù„Ø¨", location: "Ø§Ù„Ø·Ø§Ø¨Ù‚ Ø§Ù„Ø³ÙÙ„ÙŠ", description: "Ø±Ø¹Ø§ÙŠØ© Ø§Ù„Ù‚Ù„Ø¨ ÙˆØ§Ù„Ø¹ÙŠØ§Ø¯Ø§Øª Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ©" },
                ortho: { name: "Ø§Ù„Ø¹Ø¸Ø§Ù…", location: "Ø§Ù„Ø·Ø§Ø¨Ù‚ Ø§Ù„Ø£Ø±Ø¶ÙŠ", description: "Ø±Ø¹Ø§ÙŠØ© Ø§Ù„Ø¹Ø¸Ø§Ù… ÙˆØ§Ù„Ù…ÙØ§ØµÙ„" },
                ophthalmology: { name: "Ø·Ø¨ Ø§Ù„Ø¹ÙŠÙˆÙ†", location: "Ø§Ù„Ø·Ø§Ø¨Ù‚ Ø§Ù„Ø£Ø±Ø¶ÙŠ", description: "Ø±Ø¹Ø§ÙŠØ© Ø§Ù„Ø¹ÙŠÙˆÙ† ÙˆØ§Ù„Ø¹ÙŠØ§Ø¯Ø§Øª Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ©" },
                cafeteria: { name: "Ø§Ù„ÙƒØ§ÙÙŠØªÙŠØ±ÙŠØ§ (Ø§Ù„Ø·Ø±Ù Ø§Ù„ØºØ±Ø¨ÙŠ)", location: "Ø§Ù„Ø·Ø§Ø¨Ù‚ Ø§Ù„Ø£Ø±Ø¶ÙŠ", description: "Ø§Ù„Ø·Ø¹Ø§Ù… ÙˆØ§Ù„Ù…Ø±Ø·Ø¨Ø§Øª" },
                pediatrics: { name: "Ø·Ø¨ Ø§Ù„Ø£Ø·ÙØ§Ù„ Ø§Ù„Ø¹ÙŠØ§Ø¯Ø§Øª Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ©", location: "Ø§Ù„Ø·Ø§Ø¨Ù‚ Ø§Ù„Ø£ÙˆÙ„", description: "Ø±Ø¹Ø§ÙŠØ© Ø§Ù„Ø£Ø·ÙØ§Ù„ ÙˆØ§Ø³ØªØ´Ø§Ø±Ø§Øª" }
            }
        }
    };

    // Current language
    let currentLang = 'en';

    // Initialize the application
    document.addEventListener('DOMContentLoaded', function() {
        initializeLanguage();
        initializeSearch();
        initializeBackToTop();
        initializeHitCounter();
    });

    // Language Support
    function initializeLanguage() {
        const savedLanguage = localStorage.getItem('selectedLanguage') || 'en';
        const languageBtns = document.querySelectorAll('.language-btn');
        
        // Set active button
        languageBtns.forEach(btn => {
            if (btn.getAttribute('data-lang') === savedLanguage) {
                btn.classList.add('active');
            } else {
                btn.classList.remove('active');
            }
            
            btn.addEventListener('click', function() {
                const lang = this.getAttribute('data-lang');
                changeLanguage(lang);
                
                languageBtns.forEach(b => b.classList.remove('active'));
                this.classList.add('active');
            });
        });
        
        // Apply saved language
        changeLanguage(savedLanguage);
    }

    function changeLanguage(lang) {
        currentLang = lang;
        // Save language to localStorage
        localStorage.setItem('selectedLanguage', lang);
        const t = translations[lang];
        
        // Update interface text
        document.querySelector('.hospital-info h1').textContent = t.title;
        document.querySelector('.hospital-subtitle').textContent = t.subtitle;
        document.getElementById('searchInput').placeholder = t.searchPlaceholder;
        document.querySelector('.search-hint').textContent = t.searchHint;
        document.getElementById('noResults').textContent = t.noResults;
        
        // Update hit counter text
        document.querySelector('.hit-counter h3').textContent = t.hitCounterTitle;
        document.querySelector('.counter-label').textContent = t.hitCounterLabel;
        
        // Update department names and descriptions
        updateDepartmentTranslations(t.departments);
    }

    function updateDepartmentTranslations(departmentTranslations) {
        const departmentBoxes = document.querySelectorAll('.department-box');
        
        departmentBoxes.forEach(box => {
            const departmentName = box.getAttribute('data-name');
            const translation = departmentTranslations[departmentName];
            
            if (translation) {
                const titleElement = box.querySelector('h3');
                const locationElement = box.querySelector('.department-location');
                const descriptionElement = box.querySelector('p:last-child');
                
                if (titleElement) {
                    titleElement.textContent = translation.name;
                }
                if (locationElement) {
                    locationElement.textContent = translation.location;
                }
                if (descriptionElement) {
                    descriptionElement.textContent = translation.description;
                }
            }
        });
    }

    // FIXED Hit Counter Function with Cookie Fallback
    function initializeHitCounter() {
        // Cookie functions
        function getCookie(name) {
            const value = `; ${document.cookie}`;
            const parts = value.split(`; ${name}=`);
            if (parts.length === 2) return parts.pop().split(';').shift();
            return null;
        }
        
        function setCookie(name, value, days) {
            const date = new Date();
            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
            const expires = `expires=${date.toUTCString()}`;
            document.cookie = `${name}=${value}; ${expires}; path=/; SameSite=Lax`;
        }
        
        let visitCount = getCookie('wayfinderVisitCount');
        
        // If no cookie, try localStorage
        if (visitCount === null || visitCount === 'null') {
            visitCount = localStorage.getItem('wayfinderVisitCount');
        }
        
        // If still no count, initialize to 0
        if (!visitCount || visitCount === 'null') {
            visitCount = 0;
        } else {
            visitCount = parseInt(visitCount);
        }
        
        visitCount++;
        
        // Save to both storage methods for redundancy
        setCookie('wayfinderVisitCount', visitCount, 365); // 1 year expiry
        localStorage.setItem('wayfinderVisitCount', visitCount);
        
        displayCounter(visitCount);
    }
    
    function displayCounter(count) {
        const counterElement = document.getElementById('visitCount');
        counterElement.textContent = count.toLocaleString();
        
        // Add a subtle animation
        counterElement.style.transform = 'scale(1.1)';
        setTimeout(() => {
            counterElement.style.transform = 'scale(1)';
        }, 300);
    }

    // Optional: Add reset function (you can call this from browser console if needed)
    function resetHitCounter() {
        if (confirm('Are you sure you want to reset the hit counter to 0?')) {
            localStorage.removeItem('wayfinderVisitCount');
            document.cookie = 'wayfinderVisitCount=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;';
            document.getElementById('visitCount').textContent = '0';
            alert('Hit counter has been reset to 0');
        }
    }

    // Back to Top Button
    function initializeBackToTop() {
        const backToTopBtn = document.getElementById('backToTop');
        
        window.addEventListener('scroll', function() {
            if (window.pageYOffset > 300) {
                backToTopBtn.style.display = 'flex';
            } else {
                backToTopBtn.style.display = 'none';
            }
        });
    }

    function scrollToTop() {
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // Search Functionality
    function initializeSearch() {
        const searchInput = document.getElementById('searchInput');
        const noResults = document.getElementById('noResults');
        const departmentBoxes = document.querySelectorAll('.department-box');

        searchInput.addEventListener('input', function() {
            const searchTerm = this.value.toLowerCase().trim();
            let visibleCount = 0;

            departmentBoxes.forEach(box => {
                const departmentName = box.getAttribute('data-name').toLowerCase();
                const keywords = box.getAttribute('data-keywords').toLowerCase();
                
                // Check if search term matches department name or any keyword
                const nameMatch = departmentName.includes(searchTerm);
                const keywordMatch = keywords.includes(searchTerm);
                
                if (searchTerm === '' || nameMatch || keywordMatch) {
                    box.classList.remove('hidden');
                    visibleCount++;
                } else {
                    box.classList.add('hidden');
                }
            });

            // Show/hide no results message
            if (visibleCount === 0 && searchTerm !== '') {
                noResults.style.display = 'block';
            } else {
                noResults.style.display = 'none';
            }
        });

        // Clear search when clicking on a department
        departmentBoxes.forEach(box => {
            box.addEventListener('click', function() {
                searchInput.value = '';
                departmentBoxes.forEach(b => b.classList.remove('hidden'));
                noResults.style.display = 'none';
                
                // Call showDirections with the department name
                const departmentName = this.getAttribute('data-name');
                showDirections(departmentName);
            });
        });
    }

    // Navigation function
    function showDirections(department) {
        if (department === 'pharmacy') {
            window.location.href = 'pharmacy.html';
        } else if (department === 'radiology') {
            window.location.href = 'radiology.html';
        } else if (department === 'cardiology') {
            window.location.href = 'cardiology.html';
        } else if (department === 'lab') {
            window.location.href = 'Lab.html';
        } else if (department === 'ortho') {
            window.location.href = 'ortho.html';
        } else if (department === 'ophthalmology') {
            window.location.href = 'ophthal.html';
        } else if (department === 'cafeteria') {
            window.location.href = 'westend.html';
        } else if (department === 'pediatrics') {
            window.location.href = 'pediatrics.html';
        } else {
            alert('Directions for ' + department + ' coming soon!');
        }
    }
</script>
